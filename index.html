<!DOCTYPE html>
<html dir="rtl" lang="he">
<head>
    <meta charset="UTF-8">
    <title>תמלול אודיו עם GROQ</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>תמלול אודיו בעברית</h1>
    
    <div class="upload-area" id="dropZone">
        <p>גרור קובץ אודיו לכאן או לחץ לבחירת קובץ</p>
        <input type="file" id="fileInput" accept="audio/*">
    </div>

    <div class="progress-container">
        <div id="status" class="status"></div>
        <progress id="progress" value="0" max="100"></progress>
    </div>

    <button id="downloadBtn" class="download-btn" style="display: none;">
        הורד כקובץ טקסט
    </button>

    <div class="transcription-container">
        <div id="transcription"></div>
    </div>

    <!-- טעינת הסקריפטים -->
    <script>
        function loadScript(src) {
            return new Promise((resolve, reject) => {
                const script = document.createElement('script');
                script.src = src;
                script.onload = resolve;
                script.onerror = reject;
                document.head.appendChild(script);
            });
        }

        async function initApp() {
            try {
                // טעינת ה-SDK
                await loadScript('https://cdn.jsdelivr.net/npm/@groq/groq-sdk@latest/dist/umd/index.js');
                // טעינת הקוד שלנו
                await loadScript('script.js');
            } catch (error) {
                console.error('Error loading scripts:', error);
            }
        }

        initApp();
    </script>
</body>
</html>
